<div class="row clearfix">
    <!-- Actuator Properties Card -->
    <div class="col-lg-6">
        <div class="card deployment-card">
            <div class="header"
                 ng-class="{'bg-red': testingChartCtrl.deploymentState=='NOT_READY', 'bg-green': testingChartCtrl.deploymentState=='READY', 'bg-teal': testingChartCtrl.deploymentState=='DEPLOYED', 'bg-cyan': testingChartCtrl.deploymentState=='RUNNING', 'bg-grey': testingChartCtrl.deploymentState=='UNKNOWN'}">
                <i class="material-icons" style="position: absolute">bug_report</i>
                <h2 style="margin-left: 35px;">
                    {{ctrl.test.name}}
                    <small>{{testingChartCtrl.deploymentState == 'NOT_READY' ? 'Start of Test impossible' :
                            (testingChartCtrl.deploymentState == 'READY' ? 'Ready for starting the Test' :
                                    (testingChartCtrl.deploymentState == 'RUNNING' ? 'Test Running' :
                                            (testingChartCtrl.deploymentState == 'UNKNOWN' ? 'Unknown state' : 'Loading...')))}}
                    </small>
                </h2>
                <ul class="header-dropdown m-r--5">
                    <li>
                        <a class="clickable" data-toggle="modal"
                           data-target="#editTestModal" data-backdrop="static" data-keyboard="false">
                            <i class="material-icons">edit</i>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="body">
                <h4>Properties</h4>
                <table class="table table-hover">
                    <tbody>
                    <tr id="{{ctrl.test.name}}">
                        <th>Name:</th>
                        <td>{{ctrl.test.name}}
                        </td>
                    </tr>
                    <tr id="{{ctrl.test.type}}">
                        <th>Sensor type(s):</th>
                        <!-- ctrl.test.type.toString()-->
                        <td>{{ctrl.test.type.join(', ')}}</td>
                    </tr>
                    <tr id="{{ctrl.actionNames}}">
                        <th>Action types:</th>
                        <td>{{ctrl.actionNames}}</td>
                    </tr>
                    <tr>
                        <th>Testing Device:</th>
                        <td> TestingDevice
                        </td>
                    </tr>
                    <tr id="{{ctrl.ruleNames}}">
                        <th>Rules:</th>
                        <td> {{ctrl.ruleNames}}
                        </td>
                    </tr>
                    <tr id=" ">
                        <th>Reuse Data:</th>
                        <td>
                            <div class="switch" style="margin-left: 0px;">
                                <label>
                                    <input id="ReuseSwitch" type="checkbox" ng-model="config.useNewData"
                                           ng-click="ctrl.editConfig(config.useNewData)">
                                    <span class="lever"></span>
                                </label>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
                <br/>
                <br/>
                <div>
                    <span ng-show="testingChartCtrl.deploymentState=='READY' || testingChartCtrl.deploymentState =='DEPLOYED'">
                        <div ng-switch on="testingChartCtrl.startTest">
                            <div ng-switch-when='STARTING_TEST'>
                                <button class="btn bg-cyan waves-effect" type="button" disabled>
                                    <span><div class="preloader pl-size-xs">
                                        <div class="spinner-layer pl-blue">
                                            <div class="circle-clipper left">
                                                <div class="circle"></div>
                                            </div>
                                            <div class="circle-clipper right">
                                                <div class="circle"></div>
                                            </div>
                                        </div>
                                    </div></span>
                                        <span style="position:relative; bottom:4px;">Starting...</span>
                                </button>
                            </div>
                            <div ng-switch-default>
                                <button class="btn bg-cyan waves-effect" ng-click="testingChartCtrl.startComponent()"
                                        ng-disabled="testingChartCtrl.startTest=='STARTING_TEST'" type="button">
                                    <i class="material-icons">play_arrow</i>
                                    <span>Start Test</span>
                                </button>
                            </div>
                        </div>
                    </span>
                    <span ng-show="testingChartCtrl.deploymentState=='RUNNING'">
                        <button class="btn bg-orange waves-effect" ng-click="testingChartCtrl.stopComponent()">
                            <i class="material-icons">stop</i>
                            <span>Stop Test</span>
                        </button>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <!-- Test Report Card -->
    <div class="col-lg-6">
        <div class="card stats-card">
            <div class="header">
                <h2>
                    Test Report overview
                    <small>Overview of the generated Test Reports of the already passed tests.</small>
                </h2>
                <ul class="header-dropdown m-r--5">
                    <li>
                        <a ng-click="ctrl.getPDFList()" class="clickable">
                            <i class="material-icons">refresh</i>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="body">
                <div id="pdfTable" style="height:363px;overflow:auto;">
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th>Date and Time</th>
                            <th>Test Report
                                <Report></Report>
                            </th>
                            <th></th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="pdf in pdfTable | orderBy:'-date'">
                            <td>{{pdf.date * 1000 | date:'dd.MM.yyyy HH:mm:ss'}}</td>
                            <td>
                                <form ng-submit="ctrl.downloadPDF(pdf.path)">
                                    <button type="submit" class="btn btn-primary btn-lg"
                                            id="downloadReport">
                                        <i class="material-icons">get_app</i>
                                        <span>

                                        </span>
                                        <span>Download PDF</span>
                                    </button>
                                </form>
                            </td>
                            <td>
                                <form ng-submit="ctrl.deletePDF(pdf.path)" style="margin-top: 3px;">
                                    <button type="submit" class="btn btn-danger m-t-0 waves-effect">
                                        Delete
                                    </button>
                                </form>
                            </td>
                        </tr>
                        <tr ng-show="pdfTable.length === 0">
                            <td>No Test Report available.</td>
                        </tr>
                        </tbody>
                        <tfoot>
                        <tr>
                            <td class="text-center" st-pagination="" st-items-by-page="10" colspan="4"></td>
                        </tr>

                        </tfoot>
                    </table>
                </div>


            </div>
        </div>
    </div>
    <div class="col-lg-12">
        <div class="card deployment-card">
            <div class="header">
                <i class="material-icons" style="position: absolute">call_split</i>
                <h2 style="margin-left: 35px;">
                    Rule Information of the tested IoT-Application
                </h2>
            </div>
            <div class="body">
                <table class="table table-hover" st-table="displayedCollection" st-safe-src="ruleListCtrl.items">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th class="align-center">Condition</th>
                        <th class="align-center">Actions</th>
                        <th class="align-center">Times Triggered</th>
                        <th class="align-center">Last</th>
                        <th class="align-center">Result</th>
                        <th class="align-center">Active</th>
                        <th class="align-center">Owner</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr id="{{rule.id}}" ng-repeat="rule in ctrl.ruleList">
                        <td>
                            {{rule.name}}
                        </td>
                        <td class="align-center">
                            {{rule.triggerName}}
                        </td>
                        <td class="align-center">
                            {{rule.actionNames.join(", ")}}
                        </td>
                        <td class="align-center">
                            {{rule.executions}}
                        </td>
                        <td class="align-center">
                            {{rule.lastExecution ? rule.lastExecution : "Never"}}
                        </td>
                        <td class="align-center">
                            <div ng-switch="rule.lastExecutionResult">
                                <div ng-switch-when="SUCCESS">
                                    <span class="label label-success">Success</span>
                                </div>
                                <div ng-switch-when="FAILURE">
                                    <span class="label label-danger">Failure</span>
                                </div>
                                <div ng-switch-default>
                                    <span class="label label-default">None</span>
                                </div>
                            </div>
                        </td>
                        <td class="align-center">
                            <div class="switch">
                                <label>
                                    <input type="checkbox" ng-model="rule.enabled" ng-change="rule.onToggle()">
                                    <span class="lever"></span>
                                </label>
                            </div>
                        </td>
                        <td class="align-center">{{rule.ownerName ? rule.ownerName : "None"}}</td>
                        <td>
                            <form ng-submit="deleteRuleCtrl.deleteItem()" ng-show="rule.isDeletable"
                                  style="display: inline-block">
                                <button type="submit" class="btn btn-danger m-t-0 waves-effect"
                                        ng-click="deleteRuleCtrl.item.id = rule.id">
                                    Delete
                                </button>
                            </form>
                        </td>
                    </tr>
                    <tr ng-show="ctrl.ruleList.length === 0">
                        <td>No rules registered.</td>
                    </tr>
                    </tbody>
                    <tfoot>
                    <tr>
                        <td class="text-center" st-pagination="" st-items-by-page="10" colspan="4"></td>
                    </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="editTestModal" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Edit Test: {{ctrl.test.name}}
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </h5>
                </div>
                <form id="editTestingForm" ng-submit="editTestCtrl.editItem()">
                    <fieldset id="testing-form">
                        <div class="modal-body">
                            <div class="form-group" ng-class="{'has-error' : addTestCtrl.item.errors.global}">
			                    <span class="alert alert-danger" ng-show="addTestCtrl.item.errors.global">
			                      {{addTestCtrl.item.errors.global}}
			                    </span>
                            </div>
                            <div class="form-group">
                                <div class="form-line" ng-model="ctrl.sensorType" ng-value="{{ctrl.test.type}}">
                                    <h3> Sensor-Type(s): {{ctrl.test.type.join(', ')}} </h3>
                                    </select>
                                </div>
                            </div>

                            <div ng-repeat="realSensor in selectedRealSensor" ng-init="row=$index">
                                <h4>Configuration Real Sensor: {{realSensor.name}}</h4>
                                <table class="table parameter-table">
                                    <thead></thead>
                                    <tbody>
                                    <tr ng-repeat="parameter in realSensor.operator.parameters">
                                        <td>
                                            <label>{{parameter.name}}:</label><br/>
                                            <small ng-show="parameter.mandatory">(required)</small>
                                        </td>
                                        <td>
                                            <div ng-switch="parameter.type">
                                                <div ng-switch-when="Text">
                                                    <input class="form-control" type="text"
                                                           ng-required="parameter.mandatory"
                                                           ng-model="ctrl.parameterVal[realSensor.name][$index]"/>
                                                </div>
                                                <div ng-switch-when="Number">
                                                    <input class="form-control" type="number"
                                                           ng-required="parameter.mandatory"
                                                           ng-model="ctrl.parameterVal[realSensor.name][$index]"/>
                                                </div>
                                                <div class="switch" ng-switch-when="Switch">
                                                    <label>No
                                                        <input type="checkbox"
                                                               ng-model="ctrl.parameterVal[realSensor.name][$index]">
                                                        <span class="lever"></span>Yes</label>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <span class="label bg-grey"
                                                  ng-show="parameter.unit">{{parameter.unit}}</span>
                                        </td>
                                    </tr>
                                    <tr ng-show="realSensor.operator.parameters.length === 0">
                                        <td colspan="2">No parameters required.</td>
                                    </tr>
                                    </tbody>
                                </table>
                                <div class="has-error" ng-show="ctrl.deployer.status.fieldErrors.parameters">
                                    <span class="help-block focused error">{{ctrl.deployer.status.fieldErrors.parameters}}</span>
                                </div>
                            </div>


                            <div ng-if="ctrl.sensorType.includes('TESTING_TemperatureSensor')">
                                <div class="form-line">
                                    <h3>Configuration Temperature Sensor Simulator</h3>
                                    <table class="table parameter-table">
                                        <thead></thead>
                                        <tbody>
                                        <tr>
                                            <td><label>Type of simulation:*</label></td>
                                            <td>
                                                <select class="form-control show-tick" id="select-event"
                                                        name="event"
                                                        ng-model="config.eventTemp">
                                                    {{config.event}}
                                                    <option value="">Select the event to be simulated</option>
                                                    <option ng-option class="ng-binding ng-scope" value="1">Temperature
                                                        rise
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="2"> Temperature
                                                        drop
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="3">Outliers
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="4">Missing
                                                        values
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="5">Wrong value
                                                        type
                                                    </option>
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventTemp == '1' || config.eventTemp == '2'"><label>Combination
                                                with an anomaly:*</label></td>
                                            <td ng-if="config.eventTemp == '1' || config.eventTemp == '2'"><select
                                                    class="form-control show-tick" id="select-temp-Anomaly"
                                                    name="anomaly" ng-model="config.anomalyTemp">
                                                <option value="">Select the combination with an anomaly</option>
                                                <option ng-option class="ng-binding ng-scope" value="3">Outliers
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="4">Missing values
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="5">Wrong value type
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="6"
                                                        selected="selected">No combination
                                                </option>
                                            </select></td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventTemp == '1' || config.eventTemp == '2'"><label>For
                                                which
                                                room should the temperature rise/fall be simulated:* </label></td>
                                            <td ng-if="config.eventTemp == '1' || config.eventTemp == '2'">
                                                <select class="form-control show-tick"
                                                        name="room" ng-model="config.roomTemp">
                                                    <option value="">Select a room</option>
                                                    <option ng-option class="ng-binding ng-scope" value="a">Living room
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="b">Office
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="c">Bedroom
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="d">Bathroom
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="e">Kitchen
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="f">Basement
                                                    </option>
                                                </select>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>

                                </div>

                            </div>
                            <div ng-if="ctrl.sensorType.includes('TESTING_TemperatureSensorPl')">
                                <div class="form-line">
                                    <h3>Configuration Planned Temperature Sensor Simulator</h3>
                                    <table class="table parameter-table">
                                        <thead></thead>
                                        <tbody>
                                        <tr>
                                            <td><label>Type of simulation:*</label></td>
                                            <td>
                                                <select class="form-control show-tick"
                                                        name="event"
                                                        ng-model="config.eventTempPl">
                                                    <option value="">Select the event to be simulated</option>
                                                    <option ng-option class="ng-binding ng-scope" value="1">
                                                        Temperature rise
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="2">
                                                        Temperature drop
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="3">
                                                        Outliers
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="4">Missing
                                                        values
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="5">Wrong
                                                        value type
                                                    </option>
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventTempPl == '1' ||config.eventTempPl == '2'">
                                                <label>Combination with an anomaly:*</label></td>
                                            <td ng-if="config.eventTempPl == '1' ||config.eventTempPl == '2'">
                                                <select class="form-control show-tick"
                                                        name="anomaly" ng-model="config.anomalyTempPl">
                                                    <option value="">Select the combination with an anomaly: *
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="3">
                                                        Outliers
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="4">Missing
                                                        values
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="5">Wrong
                                                        value type
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="6"
                                                            selected="selected">No combination
                                                    </option>
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventTempPl == '1' ||config.eventTempPl == '2'">
                                                <label>For which room should the temperature rise/fall be
                                                    simulated:*</label></td>
                                            <td ng-if="config.eventTempPl == '1' ||config.eventTempPl == '2'">
                                                <select class="form-control show-tick"
                                                        name="room" ng-model="ctrl.config.roomTempPl">
                                                    <option value="">Select a room</option>
                                                    <option ng-option class="ng-binding ng-scope" value="a">Living
                                                        room
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="b">Office
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="c">Bedroom
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="d">Bathroom
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="e">Kitchen
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="f">Basement
                                                    </option>
                                                </select>
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div ng-if="ctrl.sensorType.includes('TESTING_HumiditySensor')">
                                <h3>Configuration Humidity Sensor Simulator</h3>
                                <table class="table parameter-table">
                                    <thead></thead>
                                    <tbody>
                                    <tr>
                                        <td><label>Type of simulation:*</label></td>
                                        <td><select class="form-control show-tick" name="event"
                                                    ng-model="config.eventHum">
                                            <option value="">Select the event to be simulated</option>
                                            <option ng-option class="ng-binding ng-scope" value="1">
                                                Humidity rise
                                            </option>
                                            <option ng-option class="ng-binding ng-scope" value="2">
                                                Humidity decrease
                                            </option>
                                            <option ng-option class="ng-binding ng-scope" value="3">Outlier</option>
                                            <option ng-option class="ng-binding ng-scope" value="4">Missing values
                                            </option>
                                            <option ng-option class="ng-binding ng-scope" value="5">Wrong value type
                                            </option>
                                        </select></td>
                                    </tr>
                                    <tr>
                                        <td ng-if="config.eventHum == '1' ||config.eventHum == '2'"><label>Combination
                                            with an anomaly:* </label></td>
                                        <td ng-if="config.eventHum == '1' ||config.eventHum == '2'">
                                            <select class="form-control show-tick" id="select-hum-Anomaly"
                                                    name="anomaly" ng-model=" config.anomalyHum">
                                                <option value="">Select the combination with an anomaly</option>
                                                <option ng-option class="ng-binding ng-scope" value="3">Outliers
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="4">Missing
                                                    values
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="5">Wrong value
                                                    type
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="6">No
                                                    combination
                                                </option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td ng-if="config.eventHum == '1' ||config.eventHum == '2'"><label>For which
                                            room should the humidity rise/fall be simulated:* </label></td>
                                        <td ng-if="config.eventHum == '1' ||config.eventHum == '2'">
                                            <select class="form-control show-tick"
                                                    name="room" ng-model="config.roomHum">
                                                <option value="">Select a room</option>
                                                <option ng-option class="ng-binding ng-scope" value="a">Living room
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="b">Office
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="c">Bedroom
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="d">Bathroom
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="e">Kitchen
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="f">Basement
                                                </option>
                                            </select>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div ng-if="ctrl.sensorType.includes('TESTING_HumiditySensorPl')">
                                <h3>Configuration Planned Humidity Sensor Simulator</h3>
                                <table class="table parameter-table">
                                    <thead></thead>
                                    <tbody>
                                    <tr>
                                        <td><label>Type of simulation:*</label></td>
                                        <td>
                                            <select class="form-control show-tick" name="event"
                                                    ng-model="config.eventHumPl">
                                                <option value="">Select the event to be simulated</option>
                                                <option ng-option class="ng-binding ng-scope" value="1">
                                                    Humidity rise
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="2">
                                                    Humidity decrease
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="3">Outlier</option>
                                                <option ng-option class="ng-binding ng-scope" value="4">Missing values
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="5">Wrong value type
                                                </option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td ng-if="config.eventHumPl == '1' ||config.eventHumPl == '2'"><label>Combination
                                            with an anomaly:*</label>
                                        </td>
                                        <td ng-if="config.eventHumPl == '1' ||config.eventHumPl == '2'">
                                            <select class="form-control show-tick"
                                                    name="anomaly" ng-model="config.anomalyHumPl">
                                                <option value="">Select the combination with an anomaly</option>
                                                <option ng-option class="ng-binding ng-scope" value="3">Outliers
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="4">Missing values
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="5">Wrong value type
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="6">No combination
                                                </option>
                                            </select>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td ng-if="config.eventHumPl == '1' ||config.eventHumPl == '2'"><label> For
                                            which room
                                            should the humidity rise/fall be simulated:*</label>
                                        </td>
                                        <td>
                                            <select class="form-control show-tick"
                                                    name="room" ng-model="config.roomHum">
                                                <option value="">Select a room</option>
                                                <option ng-option class="ng-binding ng-scope" value="a">Living room
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="b">Office
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="c">Bedroom
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="d">Bathroom
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="e">Kitchen
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="f">Basement
                                                </option>
                                            </select>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div ng-if="ctrl.sensorType.includes('TESTING_GPSSensorPl')">
                                <div class="form-line">
                                    <h3>Configuration Planned GPS Sensor Simulator</h3>
                                    <table class="table parameter-table">
                                        <thead></thead>
                                        <tbody>
                                        <tr>
                                            <td><label>Specify whether the GPS data should be tracked for a human or a
                                                cat::*</label></td>
                                            <td>
                                                <select class="form-control show-tick"
                                                        name="select-gps-cathum"
                                                        ng-model="config.whoGPSPl">
                                                    <option value="">GPS tracking of a...</option>
                                                    <option ng-option class="ng-binding ng-scope" value="a">Person
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="b">Cat</option>
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label>Type of simulation:*</label></td>
                                            <td><select class="form-control show-tick" name="event"
                                                        ng-model="config.eventGPSPl">
                                                <option value="">Select the event to be simulated</option>
                                                <option ng-option class="ng-binding ng-scope" value="1">Approach
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="2">Moving away
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="3">Outliers
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="4">Missing values
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="5">Wrong value type
                                                </option>
                                            </select></td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventGPSPl == '1' ||config.eventGPSPl == '2'"><label>Combination
                                                with an anomaly:*</label></td>
                                            <td ng-if="config.eventGPSPl == '1' ||config.eventGPSPl == '2'">
                                                <select class="form-control show-tick"
                                                        name="anomaly" ng-model="config.anomalyGPSPl">
                                                    <option value="">Select the combination with an anomaly</option>
                                                    <option ng-option class="ng-binding ng-scope" value="3">Outliers
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="4">Missing
                                                        values
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="5">Wrong value
                                                        type
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="6">No
                                                        combination
                                                    </option>
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label>Enter the coordinates of your smart home:*</label></td>
                                            <td>
                                                <div>
                                                    <input class="form-control" type="text" name="gpsLat"
                                                           placeholder="Latitude"
                                                           ng-model="config.latitudeGPSPl"> <br> <br>
                                                    <input class="form-control" type="text" name="gpsLat"
                                                           placeholder="Longitude"
                                                           ng-model="config.longitudeGPSPl"> <br><br>
                                                    <input class="form-control" type="text" name="gpsHight"
                                                           placeholder="Height"
                                                           ng-model="config.hightGPSPl">
                                                </div>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label>Enter the radius at which a reaction should take place:*</label>
                                            </td>
                                            <td>
                                                <input class="form-control" type="text" name="gpsReactionM"
                                                       placeholder="Reaction in m *"
                                                       ng-model="config.reactionMetersGPSPl">
                                            </td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div ng-if="ctrl.sensorType.includes('TESTING_GPSSensor')">
                                <div class="form-line">
                                    <h3>Configuration GPS Sensor Simulator</h3>
                                    <table class="table parameter-table">
                                        <thead></thead>
                                        <tbody>
                                        <tr>
                                            <td><label>Specify whether the GPS data should be tracked for a human or a
                                                cat:*</label></td>
                                            <td>
                                                <select class="form-control show-tick"
                                                        name="select-gps-cathum"
                                                        ng-model="config.whoGPS">
                                                    <option value="">GPS tracking of a...</option>
                                                    <option ng-option class="ng-binding ng-scope" value="a">Person
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="b">Cat</option>
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td><label>Type of simulation:*</label></td>
                                            <td><select class="form-control show-tick" id="select-gps-event"
                                                        name="event"
                                                        ng-model="config.eventGPS">
                                                <option value="">Select the event to be simulated</option>
                                                <option ng-option class="ng-binding ng-scope" value="1">Approach
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="2">Moving away
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="3">Outliers
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="4">Missing values
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="5">Wrong value type
                                                </option>
                                            </select></td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventGPS == '1' ||config.eventGPS == '2'"><label>
                                                Combination with an anomaly:*</label></td>
                                            <td><select class="form-control show-tick" id="select-gps-Anomaly"
                                                        name="anomaly" ng-model="config.anomalyGPS">
                                                <option value="">Select the combination with an anomaly</option>
                                                <option ng-option class="ng-binding ng-scope" value="3">Outliers
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="4">Missing values
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="5">Wrong value type
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="6">No combination
                                                </option>
                                            </select></td>
                                        </tr>
                                        <tr>
                                            <td><label>Enter the coordinates of your smart home:*</label></td>
                                            <td><input class="form-control" type="text" name="gpsLat"
                                                       placeholder="Latitude"
                                                       ng-model="config.latitudeGPS"> <br> <br>
                                                <input class="form-control" type="text" name="gpsLat"
                                                       placeholder="Longitude"
                                                       ng-model="config.longitudeGPS"> <br><br>
                                                <input class="form-control" type="text" name="gpsHight"
                                                       placeholder="Height"
                                                       ng-model="config.hightGPS"></td>
                                        </tr>
                                        <tr>
                                            <td><label>Enter the radius at which a reaction should take place:*</label>
                                            </td>
                                            <td><input class="form-control" type="text" name="gpsReactionM"
                                                       placeholder="Reaction in m *"
                                                       ng-model="config.reactionMetersGPS"></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div ng-if="ctrl.sensorType.includes('TESTING_AccelerationSensorPl')">
                                <div class="form-line">
                                    <h3>Configuration Planned Acceleration Sensor Simulator</h3>
                                    <table class="table parameter-table">
                                        <thead></thead>
                                        <tbody>
                                        <tr>
                                            <td><label> Type of simulation:*</label></td>
                                            <td>
                                                <select class="form-control show-tick" name="event"
                                                        ng-model="config.eventAccPl">
                                                    <option value="">Select the Event to be simulated</option>
                                                    <option ng-option class="ng-binding ng-scope" value="1">Object is
                                                        not moving
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="2">Object is
                                                        moved
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="3">Fly bumps
                                                        into the
                                                        Object
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="4">Outliers
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="5">Wrong value
                                                        type
                                                    </option>
                                                </select>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventAccPl == '1' ||config.eventAccPl == '2'"><label>Combination
                                                with an anomaly:*</label></td>
                                            <td><select class="form-control show-tick"
                                                        name="anomaly" ng-model="config.anomalyAccPl">
                                                <option value="">Select the combination with an anomaly</option>
                                                <option ng-option class="ng-binding ng-scope" value="3">Fly bumps into
                                                    the
                                                    Object
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="4">Outliers
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="5">Wrong value type
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="6">No Combination
                                                </option>
                                            </select></td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventAccPl == '2'"><label>Enter the weight of the object
                                                to be protected in kilograms:*</label></td>
                                            <td><input class="form-control" type="text" name="accKg"
                                                       placeholder="Object weight in kg *"
                                                       ng-model="config.weightObjectAccPl"></td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventAccPl == '2'"><label>Small vibrations such as those
                                                caused by the passing of a truck,
                                                drilling on the wall, etc. can quickly occur. Please select which
                                                vibration
                                                levels should be ignored or how sensitive the sensor should react to
                                                vibrations.
                                                The following levels are based on earthquake strengths:*</label></td>
                                            <td><select class="form-control show-tick"
                                                        name="sensitivity"
                                                        ng-model="config.sensitivityAccPl">
                                                <option value="">Select the Sensitivity:</option>
                                                <option ng-option class="ng-binding ng-scope" value="0">Immediate
                                                    reaction
                                                    (0,0g)
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="1">Unnoticeable
                                                    (&lt;0,001g)
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="2">Very light
                                                    (0,001-0,002g)
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="3">Light
                                                    (0,002-0,005g)
                                                </option>
                                            </select></td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventAccPl == '2'"><label> Specify after how many meters
                                                at constant speed a reaction should
                                                be triggered:</label></td>
                                            <td><input class="form-control" type="text" name="accReactionMeter"
                                                       placeholder="reaction-meters *"
                                                       ng-model="config.reactionMetersAccPl"></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div ng-if="ctrl.sensorType.includes('TESTING_AccelerationSensor')">

                                <div class="form-line">
                                    <h3>Configuration Acceleration Sensor Simulator</h3>
                                    <table class="table parameter-table">
                                        <thead></thead>
                                        <tbody>
                                        <tr>
                                            <td><label> Type of simulation:*</label></td>
                                            <td>
                                                <select class="form-control show-tick" name="event"
                                                        ng-model="config.eventAcc">
                                                    <option value="">Select the Event to be simulated</option>
                                                    <option ng-option class="ng-binding ng-scope" value="1">Object is
                                                        not moving
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="2">Object is
                                                        moved
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="3">Fly bumps
                                                        into the
                                                        Object
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="4">Outliers
                                                    </option>
                                                    <option ng-option class="ng-binding ng-scope" value="5">Wrong value
                                                        type
                                                    </option>
                                                </select>
                                            </td>
                                        <tr>
                                            <td ng-if="config.eventAcc == '1' ||config.eventAcc == '2'"><label>Combination
                                                with a anomaly:*</label></td>
                                            <td><select class="form-control show-tick" id="select-acc-Anomaly"
                                                        name="anomaly" ng-model="config.anomalyAcc">
                                                <option value="">Select the combination with an anomaly</option>
                                                <option ng-option class="ng-binding ng-scope" value="3">Fly bumps into
                                                    the
                                                    Object
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="4">Outliers
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="5">Wrong value type
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="6">No Combination
                                                </option>
                                            </select></td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventAcc == '2'"><label> Enter the weight of the object to
                                                be protected in kilograms:*</label></td>
                                            <td><input class="form-control" type="text" name="accKg"
                                                       placeholder="Object weight in kg *"
                                                       ng-model="ctrl.config.weightObjectAcc"></td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventAcc == '2'"><label>Small vibrations such as those
                                                caused by the passing of a truck,
                                                drilling on the wall, etc. can quickly occur. Please select which
                                                vibration
                                                levels should be ignored or how sensitive the sensor should react to
                                                vibrations.
                                                The following levels are based on earthquake strengths:*</label></td>
                                            <td><select class="form-control show-tick"
                                                        name="sensitivity"
                                                        ng-model="config.sensitivityAcc">
                                                <option value="">Select the Sensitivity</option>
                                                <option ng-option class="ng-binding ng-scope" value="0">Immediate
                                                    reaction
                                                    (0,0g)
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="1">Unnoticeable
                                                    (&lt;0,001g)
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="2">Very light
                                                    (0,001-0,002g)
                                                </option>
                                                <option ng-option class="ng-binding ng-scope" value="3">Light
                                                    (0,002-0,005g)
                                                </option>
                                            </select></td>
                                        </tr>
                                        <tr>
                                            <td ng-if="config.eventAcc == '2'"><label>Specify after how many meters at
                                                constant speed a reaction should
                                                be triggered:</label></td>
                                            <td><input class="form-control" type="text" name="accReactionMeter"
                                                       placeholder="reaction-meters *"
                                                       ng-model="config.reactionMetersAcc"></td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>

                            </div>
                            <div class="form-line"
                                 ng-if="ctrl.sensorType.includes('TESTING_HumiditySensorPl') || ctrl.sensorType.includes('TESTING_TemperatureSensorPl') ||ctrl.sensorType.includes('TESTING_GPSSensorPl') || ctrl.sensorType.includes('TESTING_AccelerationSensorPl')">
                                <h3>Configuration Planned Simulation</h3>
                                <table class="table parameter-table">
                                    <thead></thead>
                                    <tbody>
                                    <tr>
                                        <td><label>Simulation time:*</label></td>
                                        <td>
                                            <div>
                                                <input class="form-control" type="text" id="simTime"
                                                       ng-model="config.simTime" placeholder="hours"/>
                                            </div>
                                        </td>
                                    <tr>
                                        <td><label>Amount events to be simulated:*</label></td>
                                        <td>
                                            <div>
                                                <input class="form-control" type="number" id="amountEvents"
                                                       ng-model="config.amountEvents" placeholder=""/>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><label>Amount anomalies to be simulated:*</label></td>
                                        <td>
                                            <div><input class="form-control" type="number" id="amountAnomalies"
                                                        name="amountAnomalies"
                                                        ng-model="config.amountAnomalies"></div>
                                        </td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="form-group">
                                <div class="form-line">
                                    <h3> Which rules should be observed?*</h3>
                                    <select class="form-control selectpicker" title="Rules"
                                            ng-model="selectedRules.rules"
                                            data-header="Rules to be observed"
                                            ng-options="rule as rule.name for rule in ctrl.ruleList"
                                            multiple>
                                    </select>
                                </div>
                            </div>

                            <div class="form-group">

                                <div class="radio">
                                    <input type="radio" class="with-gap" id="trigger_rules"
                                           ng-model="ctrl.executeRules"
                                           value="true"/>
                                    <label for="trigger_rules">The selected rules should be triggered. *</label>
                                </div>

                                <div class="radio">
                                    <input type="radio" class="with-gap" id="not_trigger_rules"
                                           ng-model="ctrl.executeRules"
                                           value="false"/>
                                    <label for="not_trigger_rules">The selected rules shouldn't be
                                        triggered. *</label>
                                </div>
                            </div>
                            <span class="help-block" style="font-style: italic">* Mandatory fields</span>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary m-t-0 waves-effect" data-dismiss="modal">
                                Close
                            </button>
                            <button ng-click="ctrl.editTestConfiguration()"
                                    class="btn btn-primary m-t-0 waves-effect">
                                Update
                            </button>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
    <!--#END# Modal -->
</div>


<div ng-repeat="sensor in ctrl.sensorList">
    <!-- Live Values Card -->
    <div class="row clearfix">
        <div class="col-lg-12">
            <div class="card live-chart-card animate-show-hide" ng-show="testingChartCtrl.deploymentState=='RUNNING'">
                <div class="header">
                    <h2>
                        Live sensor values&nbsp;<i class="material-icons" style="color: red;">live_tv</i>
                    </h2>
                </div>


                <div class="body">
                    <live-chart loading-start="testingChartCtrl.liveChart.loadingStart()"
                                loading-finish="testingChartCtrl.liveChart.loadingFinish()"
                                get-data="testingChartCtrl.liveChart.getData(numberLogs, descending, '', sensor)"
                                is-updateable="testingChartCtrl.liveChart.isUpdateable()"
                                unit="{{testingChartCtrl.displayUnit}}">
                    </live-chart>
                </div>
            </div>
        </div>
    </div>


    <!-- Historical Values Card -->
    <div class="row clearfix" ng-init="testingChartCtrl.specifyChart(sensor)">
        <div class="col-lg-12">
            <div class="card historical-chart-card">
                <div class="header">
                    <h2>
                        Historical sensor values: {{sensor.name}}
                    </h2>
                    <ul class="header-dropdown m-r--5">
                        <li>
                            <a ng-click="historicalChartApi.updateChart()" class="clickable">
                                <i class="material-icons">refresh</i>
                            </a>
                        </li>
                    </ul>
                </div>
                <div class="body">
                    <historical-chart api="historicalChartApi"
                                      loading-start="testingChartCtrl.historicalChart.loadingStart()"
                                      loading-finish="testingChartCtrl.historicalChart.loadingFinish()"
                                      get-data="testingChartCtrl.historicalChart.getData(numberLogs, descending, unit, sensor)"
                                      unit=" ">
                    </historical-chart>
                </div>
            </div>
        </div>
    </div>
</div>


